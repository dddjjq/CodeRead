<mxfile host="app.diagrams.net" modified="2023-02-26T15:10:48.958Z" agent="5.0 (Windows)" etag="hwkJViC7sP2GtB9b_Zew" version="20.8.23" type="github">
  <diagram name="第 1 页" id="VdirA_TrU_qkNDLxWXSQ">
    <mxGraphModel dx="1562" dy="826" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="294" y="290" width="126" height="210" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-6" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#60a917;strokeColor=#2D7600;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="294" y="220" width="126" height="70" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-7" value="0x0" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="140" y="485" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-8" value="0xFFFFFFFF" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="140" y="205" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-9" value="0xC0000000" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="140" y="275" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-11" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="vteoiXjWMdSy1sNOXZ3i-8" target="vteoiXjWMdSy1sNOXZ3i-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="240" y="270" as="sourcePoint" />
            <mxPoint x="290" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-12" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="vteoiXjWMdSy1sNOXZ3i-9" target="vteoiXjWMdSy1sNOXZ3i-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="170" y="370" as="sourcePoint" />
            <mxPoint x="220" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-13" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="vteoiXjWMdSy1sNOXZ3i-7" target="vteoiXjWMdSy1sNOXZ3i-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="230" y="300" as="sourcePoint" />
            <mxPoint x="304" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-14" value="Kernel Space（1GB）" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="460" y="240" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-15" value="User Space(3GB)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="460" y="380" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-16" value="32位进程内存布局" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="304" y="130" width="106" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-18" value="hlist_node proc_node" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;" parent="1" vertex="1">
          <mxGeometry x="730" y="152.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-19" value="rb_root threads" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#60a917;fontColor=#ffffff;strokeColor=#2D7600;" parent="1" vertex="1">
          <mxGeometry x="730" y="182.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-23" value="list_head waiting_threads" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="302.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-24" value="rb_root refs_by_node" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="272.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-25" value="rb_root refs_by_desc" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="242.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-26" value="rb_root nodes" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
          <mxGeometry x="730" y="212.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-40" value="task_struct *tsk" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="362.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-41" value="int pid" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="332.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-45" value="int max_threads" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="422.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-46" value="int requested_threads" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="452.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-47" value="list_head delivered_death" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="392.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-48" value="binder_priority default_priority" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="512.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-49" value="binder_alloc alloc" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="730" y="542.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-50" value="int requested_threads_started" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="482.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-54" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1820" y="335" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-55" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1820" y="365" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-56" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1820" y="305" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-59" value="binder_context *context" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
          <mxGeometry x="730" y="572.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-60" value="binder_proc" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="780" y="112.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-61" value="哈希表的key" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="920" y="152.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-63" value="应用层线程在Kernel的数据结构" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="920" y="182.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-66" value="应用层线程在Kernel的数据结构" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1850" y="422.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-67" value="Binder实体节点，一个node代表一个Server" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="920" y="212.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-68" value="非阻塞式io才用到" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="911" y="302.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-69" value="进程数据结构" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="911" y="362.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-70" value="死亡回调相关" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="911" y="392.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-71" value="最大线程数量，可以由上层设置" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="911" y="422.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-73" value="已经请求且已启动的线程数量" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="911" y="482.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-74" value="已经请求，但是还没启动的线程数量" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="911" y="452.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-75" value="内存分配器" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="911" y="542.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-76" value="优先级相关" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="911" y="512.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-77" value="mutex mutex" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1320" y="132.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-78" value="vm_area_struct *vma" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1320" y="162.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-79" value="rb_root free_buffers" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="1" vertex="1">
          <mxGeometry x="1320" y="282.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-80" value="list_head buffers" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1320" y="252.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-81" value="__user *buffer" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#60a917;fontColor=#ffffff;strokeColor=#2D7600;" parent="1" vertex="1">
          <mxGeometry x="1320" y="222.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-82" value="mm_struct *vma_vm_mm" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1320" y="192.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-83" value="size_t free_async_space" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1320" y="342.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-84" value="rb_root allocated_buffers" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6a00ff;fontColor=#ffffff;strokeColor=#3700CC;" parent="1" vertex="1">
          <mxGeometry x="1320" y="312.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-85" value="size_t buffer_size" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1320" y="402.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-86" value="uint32_t buffer_free" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1320" y="432.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-87" value="binder_lru_page *pages" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#a20025;fontColor=#ffffff;strokeColor=#6F0000;" parent="1" vertex="1">
          <mxGeometry x="1320" y="372.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-88" value="size_t pages_high" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1320" y="492.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-90" value="int pid" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1320" y="462.5" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-94" value="binder_proc" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="1370" y="92.5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-95" value="互斥锁" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1510" y="132.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-96" value="通过mmap获得的虚拟地址区域" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1510" y="162.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-97" value="从vma中获得" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1510" y="192.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-98" value="空闲的Buffer，以size为value的红黑树" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1501" y="282.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-100" value="binder_lru_page" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1501" y="372.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-101" value="通过mmap拿到的vma地址范围" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1501" y="402.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-102" value="进程id" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1501" y="462.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vteoiXjWMdSy1sNOXZ3i-106" value="上下文，其中包含了ServiceManager的引用" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="911" y="572.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RzsHH43f9S2p3S7kqBoZ-1" value="mmap得到的地址基址" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1510" y="222.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RzsHH43f9S2p3S7kqBoZ-3" value="申请过的Buffer，以addr为value的红黑树" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="1501" y="312.5" width="120" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
